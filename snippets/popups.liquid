{% comment %}
  Dieses Snippet enthält alle Pop-Ups und lädt die Inhalte direkt aus den Theme-Einstellungen
{% endcomment %}

{%- style -%}
  {% if settings.popup_certificate_origin_use_arrow_divider %}
  #modal-certificate-origin .arrow-container .arrow-left,
  #modal-certificate-origin .arrow-container .arrow-right {
    width: {{ settings.popup_certificate_origin_arrow_width | default: 150 }}px;
    height: {{ settings.popup_certificate_origin_arrow_thickness | default: 1 }}px;
  }

  #modal-certificate-origin .arrow-container .arrow-left::before,
  #modal-certificate-origin .arrow-container .arrow-right::before {
    background-color: {{ settings.popup_certificate_origin_arrow_color | default: '#b9bfb1' }};
    height: {{ settings.popup_certificate_origin_arrow_thickness | default: 1 }}px;
  }

  #modal-certificate-origin .arrow-container .arrow-left::after {
    border-color: transparent {{ settings.popup_certificate_origin_arrow_color | default: '#b9bfb1' }} transparent transparent;
  }

  #modal-certificate-origin .arrow-container .arrow-right::after {
    border-color: transparent transparent transparent {{ settings.popup_certificate_origin_arrow_color | default: '#b9bfb1' }};
  }
  {% endif %}

  {% if settings.popup_clearance_certificate_use_arrow_divider %}
  #modal-clearance-certificate .arrow-container .arrow-left,
  #modal-clearance-certificate .arrow-container .arrow-right {
    width: {{ settings.popup_clearance_certificate_arrow_width | default: 150 }}px;
    height: {{ settings.popup_clearance_certificate_arrow_thickness | default: 1 }}px;
  }

  #modal-clearance-certificate .arrow-container .arrow-left::before,
  #modal-clearance-certificate .arrow-container .arrow-right::before {
    background-color: {{ settings.popup_clearance_certificate_arrow_color | default: '#b9bfb1' }};
    height: {{ settings.popup_clearance_certificate_arrow_thickness | default: 1 }}px;
  }

  #modal-clearance-certificate .arrow-container .arrow-left::after {
    border-color: transparent {{ settings.popup_clearance_certificate_arrow_color | default: '#b9bfb1' }} transparent transparent;
  }

  #modal-clearance-certificate .arrow-container .arrow-right::after {
    border-color: transparent transparent transparent {{ settings.popup_clearance_certificate_arrow_color | default: '#b9bfb1' }};
  }
  {% endif %}

  {% if settings.popup_vat_uid_tva_use_arrow_divider %}
  #modal-vat-uid-tva .arrow-container .arrow-left,
  #modal-vat-uid-tva .arrow-container .arrow-right {
    width: {{ settings.popup_vat_uid_tva_arrow_width | default: 150 }}px;
    height: {{ settings.popup_vat_uid_tva_arrow_thickness | default: 1 }}px;
  }

  #modal-vat-uid-tva .arrow-container .arrow-left::before,
  #modal-vat-uid-tva .arrow-container .arrow-right::before {
    background-color: {{ settings.popup_vat_uid_tva_arrow_color | default: '#b9bfb1' }};
    height: {{ settings.popup_vat_uid_tva_arrow_thickness | default: 1 }}px;
  }

  #modal-vat-uid-tva .arrow-container .arrow-left::after {
    border-color: transparent {{ settings.popup_vat_uid_tva_arrow_color | default: '#b9bfb1' }} transparent transparent;
  }

  #modal-vat-uid-tva .arrow-container .arrow-right::after {
    border-color: transparent transparent transparent {{ settings.popup_vat_uid_tva_arrow_color | default: '#b9bfb1' }};
  }
  {% endif %}
{%- endstyle -%}

<div class="popup-container">
  {% comment %} Certificate of Origin Pop-Up {% endcomment %}
  {% if settings.popup_certificate_origin_enable %}
    <div class="modal micromodal-slide" id="modal-certificate-origin" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-custom-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-certificate-origin-title">
          <button class="modal__close" aria-label="Close modal" data-custom-close>x</button>
          <header class="modal__header">
            <h2 class="modal__title" id="modal-certificate-origin-title">
              {{ settings.popup_certificate_origin_headline }}
            </h2>
            {% if settings.popup_certificate_origin_use_arrow_divider %}
              <div class="arrow-container">
                <div class="arrow-left"></div>
                <h3>{{ settings.popup_certificate_origin_abbr }}</h3>
                <div class="arrow-right"></div>
              </div>
            {% else %}
              <h3>{{ settings.popup_certificate_origin_abbr }}</h3>
            {% endif %}
          </header>
          <main class="modal__content" id="modal-certificate-origin-content">
            <div class="modal__text">
              {{ settings.popup_certificate_origin_text }}
            </div>

            {% if settings.popup_certificate_origin_more_info != blank %}
              <div class="modal__more-info">
                <div class="modal__more-info-content">
                  {{ settings.popup_certificate_origin_more_info }}
                </div>
              </div>
            {% endif %}
          </main>
        </div>
      </div>
    </div>
  {% endif %}

  {% comment %} Clearance Certificate Pop-Up {% endcomment %}
  {% if settings.popup_clearance_certificate_enable %}
    <div class="modal micromodal-slide" id="modal-clearance-certificate" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-custom-close>
        <div
          class="modal__container"
          role="dialog"
          aria-modal="true"
          aria-labelledby="modal-clearance-certificate-title"
        >
          <button class="modal__close" aria-label="Close modal" data-custom-close>x</button>
          <header class="modal__header">
            <h2 class="modal__title" id="modal-clearance-certificate-title">
              {{ settings.popup_clearance_certificate_headline }}
            </h2>
            {% if settings.popup_clearance_certificate_use_arrow_divider %}
              <div class="arrow-container">
                <div class="arrow-left"></div>
                <h3>{{ settings.popup_clearance_certificate_abbr }}</h3>
                <div class="arrow-right"></div>
              </div>
            {% else %}
              <h3>{{ settings.popup_clearance_certificate_abbr }}</h3>
            {% endif %}
          </header>
          <main class="modal__content" id="modal-clearance-certificate-content">
            <div class="modal__text">
              {{ settings.popup_clearance_certificate_text }}
            </div>

            {% if settings.popup_clearance_certificate_more_info != blank %}
              <div class="modal__more-info">
                <div class="modal__more-info-content">
                  {{ settings.popup_clearance_certificate_more_info }}
                </div>
              </div>
            {% endif %}
          </main>
        </div>
      </div>
    </div>
  {% endif %}

  {% comment %} VAT | UID | TVA Pop-Up {% endcomment %}
  {% if settings.popup_vat_uid_tva_enable %}
    <div class="modal micromodal-slide" id="modal-vat-uid-tva" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-custom-close>
        <div
          class="modal__container modal__container--wide"
          role="dialog"
          aria-modal="true"
          aria-labelledby="modal-vat-uid-tva-title"
        >
          <button class="modal__close" aria-label="Close modal" data-custom-close>x</button>
          <header class="modal__header">
            <h2 class="modal__title" id="modal-vat-uid-tva-title">
              {{ settings.popup_vat_uid_tva_headline }}
            </h2>
            {% if settings.popup_vat_uid_tva_use_arrow_divider %}
              <div class="arrow-container">
                <div class="arrow-left"></div>
                <h3>{{ settings.popup_vat_uid_tva_abbr }}</h3>
                <div class="arrow-right"></div>
              </div>
            {% else %}
              <h3>{{ settings.popup_vat_uid_tva_abbr }}</h3>
            {% endif %}
          </header>
          <main class="modal__content" id="modal-vat-uid-tva-content">
            <div class="modal__columns">
              <div class="modal__column">
                {{ settings.popup_vat_uid_tva_text_col1 }}
              </div>
              <div class="modal__column">
                {{ settings.popup_vat_uid_tva_text_col2 }}
              </div>
              <div class="modal__column">
                {{ settings.popup_vat_uid_tva_text_col3 }}
              </div>
            </div>
            {% if settings.popup_vat_uid_tva_more_info != blank %}
              <div class="modal__more-info">
                <div class="modal__more-info-content">
                  {{ settings.popup_vat_uid_tva_more_info }}
                </div>
              </div>
            {% endif %}
          </main>
        </div>
      </div>
    </div>
  {% endif %}

  {% comment %} Ankündigungs-Pop-Up {% endcomment %}
  {% if settings.announcement_popup_enable %}
    <div
      class="modal micromodal-slide"
      id="modal-announcement"
      aria-hidden="true"
      data-delay="{{ settings.announcement_popup_delay | default: 3 }}"
      data-homepage-only="{{ settings.announcement_popup_homepage_only }}"
      data-start-date="{{ settings.announcement_popup_start_date }}"
      data-end-date="{{ settings.announcement_popup_end_date }}"
    >
      <div class="modal__overlay" tabindex="-1" data-custom-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-announcement-title">
          <button class="modal__close" aria-label="Close modal" data-custom-close>x</button>
          <header class="modal__header">
            <h2 class="modal__title" id="modal-announcement-title">
              {% liquid
                assign current_lang = request.locale.iso_code
                case current_lang
                  when 'de'
                    echo settings.announcement_popup_headline_de
                  when 'en'
                    echo settings.announcement_popup_headline_en
                  when 'es'
                    echo settings.announcement_popup_headline_es
                  when 'it'
                    echo settings.announcement_popup_headline_it
                  when 'fr'
                    echo settings.announcement_popup_headline_fr
                  else
                    echo settings.announcement_popup_headline_de
                endcase
              %}
            </h2>
          </header>
          <main class="modal__content" id="modal-announcement-content">
            <div class="modal__text">
              {% liquid
                assign current_lang = request.locale.iso_code
                case current_lang
                  when 'de'
                    echo settings.announcement_popup_text_de
                  when 'en'
                    echo settings.announcement_popup_text_en
                  when 'es'
                    echo settings.announcement_popup_text_es
                  when 'it'
                    echo settings.announcement_popup_text_it
                  when 'fr'
                    echo settings.announcement_popup_text_fr
                  else
                    echo settings.announcement_popup_text_de
                endcase
              %}
            </div>

            {% liquid
              assign current_lang = request.locale.iso_code
              assign button_label = ''
              assign button_url = ''

              case current_lang
                when 'de'
                  assign button_label = settings.announcement_popup_button_label_de
                  assign button_url = settings.announcement_popup_button_url_de
                when 'en'
                  assign button_label = settings.announcement_popup_button_label_en
                  assign button_url = settings.announcement_popup_button_url_en
                when 'es'
                  assign button_label = settings.announcement_popup_button_label_es
                  assign button_url = settings.announcement_popup_button_url_es
                when 'it'
                  assign button_label = settings.announcement_popup_button_label_it
                  assign button_url = settings.announcement_popup_button_url_it
                when 'fr'
                  assign button_label = settings.announcement_popup_button_label_fr
                  assign button_url = settings.announcement_popup_button_url_fr
                else
                  assign button_label = settings.announcement_popup_button_label_de
                  assign button_url = settings.announcement_popup_button_url_de
              endcase
            %}

            {% if button_label != blank and button_url != blank %}
              <div class="modal__actions">
                <a href="{{ button_url }}" class="button button--primary">
                  {{ button_label }}
                </a>
              </div>
            {% endif %}
          </main>
        </div>
      </div>
    </div>
  {% endif %}
</div>
